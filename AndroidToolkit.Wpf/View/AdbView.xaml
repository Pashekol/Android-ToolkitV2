<metroControls:MetroWindow Name="AdbWindow" x:Class="AndroidToolkit.Wpf.View.AdbView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:AndroidToolkit.Wpf.ViewModel"
        xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
        xmlns:Behaviours="clr-namespace:MahApps.Metro.Behaviours;assembly=MahApps.Metro"
        xmlns:metroControls="clr-namespace:MahApps.Metro.Controls;assembly=MahApps.Metro"
        xmlns:controls="clr-namespace:AndroidToolkit.Wpf.Presentation.Controls;assembly=AndroidToolkit.Wpf.Presentation"
        xmlns:converters="clr-namespace:AndroidToolkit.Wpf.Presentation.Converters;assembly=AndroidToolkit.Wpf.Presentation"
        Title="Android Toolkit - ADB" Height="600" Width="1100" MinHeight="350" MinWidth="525" ShowMinButton="True" ShowInTaskbar="True" ResizeMode="CanResizeWithGrip" WindowTransitionsEnabled="True" WindowStartupLocation="CenterScreen">
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Controls.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Fonts.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Colors.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Accents/Blue.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Accents/BaseDark.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Controls.AnimatedTabControl.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/FlatButton.xaml" />
                <ResourceDictionary Source="pack://application:,,,/AndroidToolkit.Wpf.Presentation;component/Resources/Icons.xaml" />
                <ResourceDictionary Source="pack://application:,,,/AndroidToolkit.Wpf.Presentation;component/Resources/Text.xaml" />
                <ResourceDictionary Source="pack://application:,,,/AndroidToolkit.Wpf.Presentation;component/Resources/Styles.xaml" />
                <ResourceDictionary Source="pack://application:,,,/AndroidToolkit.Wpf.Presentation;component/Resources/CustomButtonStyle.xaml" />
            </ResourceDictionary.MergedDictionaries>
            <converters:SingleCommandParametersConverter x:Key="SingleCommandParametersConverter"/>
            <converters:TwoCommandsParametersConverter x:Key="TwoCommandsParametersConverter"/>
            <converters:ThreeTextCommandParametersConverter x:Key="ThreeTextCommandParametersConverter"/>
            <converters:FiveTextCommandParametersConverter x:Key="FiveTextCommandParametersConverter"/>
            <converters:UIParametersConverter x:Key="UIParametersConverter"/>
            <converters:ExecuteCommandParametersConverter x:Key="ExecuteCommandParametersConverter"/>
            <converters:BackupParametersConverter x:Key="BackupParametersConverter"/>
            <Storyboard x:Key="OnLoaded">
                <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(TextElement.FontSize)" Storyboard.TargetName="OverviewText">
                    <EasingDoubleKeyFrame KeyTime="0:0:1" Value="20"/>
                </DoubleAnimationUsingKeyFrames>
                <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(Rectangle.Height)" Storyboard.TargetName="OverviewRectangle">
                    <EasingDoubleKeyFrame KeyTime="0:0:1" Value="128"/>
                </DoubleAnimationUsingKeyFrames>
            </Storyboard>
        </ResourceDictionary>
    </Window.Resources>

    <metroControls:MetroWindow.Triggers>
        <EventTrigger RoutedEvent="Loaded">
            <BeginStoryboard x:Name="OnLoaded_BeginStoryboard" Storyboard="{StaticResource OnLoaded}"/>
        </EventTrigger>
    </metroControls:MetroWindow.Triggers>

    <metroControls:MetroWindow.RightWindowCommands>
        <metroControls:WindowCommands>

            <Button Name="StartAdb" Command="{Binding PrepareCommand}" CommandParameter="{Binding ElementName=Context}">
                <StackPanel Orientation="Horizontal">
                    <Rectangle Width="20" Height="20"
                   Fill="{Binding RelativeSource={RelativeSource AncestorType=Button}, Path=Foreground}">
                        <Rectangle.OpacityMask>
                            <VisualBrush Stretch="Fill"
                         Visual="{StaticResource appbar_refresh}" />
                        </Rectangle.OpacityMask>
                    </Rectangle>
                    <TextBlock Margin="4 0 0 0"
                   VerticalAlignment="Center"
                   Text="start ADB" />
                </StackPanel>
            </Button>
            <Button Name="KillAdb" Command="{Binding KillAdbCommand}" CommandParameter="{Binding ElementName=Context}">
                <StackPanel Orientation="Horizontal">
                    <Rectangle Width="20" Height="20"
                   Fill="{Binding RelativeSource={RelativeSource AncestorType=Button}, Path=Foreground}">
                        <Rectangle.OpacityMask>
                            <VisualBrush Stretch="Fill"
                         Visual="{StaticResource appbar_cancel}" />
                        </Rectangle.OpacityMask>
                    </Rectangle>
                    <TextBlock Margin="4 0 0 0"
                   VerticalAlignment="Center"
                   Text="kill adb" />
                </StackPanel>
            </Button>
            <Button Name="ListDevices" Command="{Binding ListDevicesCommand}">
                <Button.CommandParameter>
                    <MultiBinding Converter="{StaticResource UIParametersConverter}">
                        <Binding ElementName="Context"/>
                        <Binding ElementName="ADBDevices"/>
                        <Binding ElementName="Target" Path="Text"/>
                        <Binding ElementName="CreateNoWindow" Path="IsChecked"/>
                        <Binding ElementName="ListAppsFlyout"/>
                    </MultiBinding>
                </Button.CommandParameter>
                <StackPanel Orientation="Horizontal">
                    <Rectangle Width="20" Height="20"
                   Fill="{Binding RelativeSource={RelativeSource AncestorType=Button}, Path=Foreground}">
                        <Rectangle.OpacityMask>
                            <VisualBrush Stretch="Fill"
                         Visual="{StaticResource appbar_iphone}" />
                        </Rectangle.OpacityMask>
                    </Rectangle>
                    <TextBlock Margin="4 0 0 0"
                   VerticalAlignment="Center"
                   Text="list devices" />
                </StackPanel>
            </Button>
            <Button Name="ShowSettings2">
                <StackPanel Orientation="Horizontal">
                    <Rectangle Width="20" Height="20"
                   Fill="{Binding RelativeSource={RelativeSource AncestorType=Button}, Path=Foreground}">
                        <Rectangle.OpacityMask>
                            <VisualBrush Stretch="Fill"
                         Visual="{StaticResource appbar_cog}" />
                        </Rectangle.OpacityMask>
                    </Rectangle>
                    <TextBlock Margin="4 0 0 0"
                   VerticalAlignment="Center"
                   Text="settings" />
                </StackPanel>
            </Button>
            <Button>
                <Rectangle Width="20" Height="20"
                   Fill="{Binding RelativeSource={RelativeSource AncestorType=Button}, Path=Foreground}">
                    <Rectangle.OpacityMask>
                        <VisualBrush Stretch="Fill"
                         Visual="{StaticResource appbar_os_android}" />
                    </Rectangle.OpacityMask>
                </Rectangle>
            </Button>
        </metroControls:WindowCommands>
    </metroControls:MetroWindow.RightWindowCommands>

    <Window.DataContext>
        <Binding Source="{StaticResource Locator}" Path="Adb"/>
    </Window.DataContext>

    <i:Interaction.Behaviors>
        <Behaviours:BorderlessWindowBehavior AllowsTransparency="True" AutoSizeToContent="True" EnableDWMDropShadow="True" />
    </i:Interaction.Behaviors>

    <metroControls:MetroWindow.Flyouts>
        <metroControls:FlyoutsControl>
            <metroControls:Flyout Name="SettingsFlyout" Header="SETTINGS" Position="Right" Theme="Adapt" Width="500" IsModal="True" IsPinned="True">
                <ScrollViewer>
                    <StackPanel Margin="10">
                        <Rectangle Width="90" Height="90" Margin="0,0,0,25" Fill="Gray" HorizontalAlignment="Center" VerticalAlignment="Center">
                            <Rectangle.OpacityMask>
                                <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_settings}"/>
                            </Rectangle.OpacityMask>
                        </Rectangle>
                        <Expander Header="Device settings">
                            <ScrollViewer>
                                <StackPanel>
                                    <metroControls:ToggleSwitch Name="CreateNoWindow" Header="Hide CMD" Margin="20" IsChecked="{Binding Source={StaticResource Settings}, Path=Default.CreateADBWindow}"/>
                                    <TextBox Name="Target" Text="{Binding Source={StaticResource Settings}, Path=Default.ADBTarget}" metroControls:TextboxHelper.ClearTextButton="True" metroControls:TextboxHelper.IsWaitingForData="True" metroControls:TextboxHelper.Watermark="TARGET DEVICE ID"></TextBox>
                                </StackPanel>
                            </ScrollViewer>
                        </Expander>
                        <Rectangle Margin="20,5,20,5" Fill="White" Width="{Binding ElementName=SettingsFlyout, Path=Width}" Height="1"/>
                        <Expander Header="UI Settings" Name="UiSettings">
                            <ScrollViewer>
                                <StackPanel>
                                    <DockPanel Margin="5">
                                        <Label Style="{StaticResource TileTitleLabel}" Margin="2" Content="UI Scaling"/>
                                        <Slider x:Name="UiSlider" HorizontalAlignment="Center" VerticalAlignment="Bottom" ToolTip="Determines the UI scale factor. Double-click to revert scaling back to 100%."  Height="100" Value="1" Minimum="0.1" Maximum="3" Orientation="Vertical" Ticks="1" IsSnapToTickEnabled="False" TickPlacement="BottomRight" AutoToolTipPlacement="BottomRight" AutoToolTipPrecision="2" />
                                    </DockPanel>
                                    <metroControls:ToggleSwitch Name="LightTheme" Header="Light Theme" Margin="5" />
                                    <ComboBox Name="AccentsComboBox" ItemsSource="{Binding Accents}">
                                        <ComboBox.ItemTemplate>
                                            <DataTemplate>
                                                <DockPanel>
                                                    <Rectangle Width="20" Height="20" Fill="DarkGray">
                                                        <Rectangle.OpacityMask>
                                                            <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_settings}"/>
                                                        </Rectangle.OpacityMask>
                                                    </Rectangle>
                                                    <Label Margin="10,0,0,0" Style="{StaticResource TileTitleLabel}" Foreground="DarkGray" Content="{Binding Name}"/>
                                                </DockPanel>
                                            </DataTemplate>
                                        </ComboBox.ItemTemplate>
                                    </ComboBox>
                                    <Button Name="ApplyThemeChange" Margin="5" Width="80" Height="80" Style="{DynamicResource MetroCircleButtonStyle}">
                                        <Rectangle Width="20" Height="20" Fill="{DynamicResource AccentColorBrush}">
                                            <Rectangle.OpacityMask>
                                                <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_check}"/>
                                            </Rectangle.OpacityMask>
                                        </Rectangle>
                                    </Button>
                                </StackPanel>
                            </ScrollViewer>
                        </Expander>
                    </StackPanel>
                </ScrollViewer>
            </metroControls:Flyout>
            <metroControls:Flyout Header="REBOOT" Position="Left" Theme="Adapt" IsModal="False" IsPinned="True">
                <StackPanel Margin="10">
                    <StackPanel.LayoutTransform>
                        <ScaleTransform CenterX="0" CenterY="0" ScaleX="{Binding ElementName=UiSlider,Path=Value}" ScaleY="{Binding ElementName=UiSlider,Path=Value}"/>
                    </StackPanel.LayoutTransform>
                    <Rectangle Width="90" Height="90" Margin="0,0,0,25" Fill="{StaticResource FlatButtonBackgroundBrush}" HorizontalAlignment="Center" VerticalAlignment="Center">
                        <Rectangle.OpacityMask>
                            <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_reset}"></VisualBrush>
                        </Rectangle.OpacityMask>
                    </Rectangle>
                    <Button Margin="5" Height="50" Name="RebootButton" Command="{Binding RebootCommand}" Style="{StaticResource FlatMetroAccentButton }">
                        <Button.CommandParameter>
                            <MultiBinding Converter="{StaticResource SingleCommandParametersConverter}">
                                <Binding ElementName="Context"/>
                                <Binding ElementName="CreateNoWindow" Path="IsChecked"/>
                                <Binding ElementName="Target" Path="Text"/>
                            </MultiBinding>
                        </Button.CommandParameter>
                        <Button.Content>
                            <DockPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                                <Rectangle Width="20" Height="20" Fill="White">
                                    <Rectangle.OpacityMask>
                                        <VisualBrush Visual="{StaticResource appbar_reset}" Stretch="Fill"/>
                                    </Rectangle.OpacityMask>
                                </Rectangle>
                                <TextBlock Margin="5,0,0,0" Text="REBOOT" Foreground="White" />
                            </DockPanel>
                        </Button.Content>
                    </Button>
                    <Button Margin="5" Height="50" Name="RebootRecoveryButton" Command="{Binding RebootRecoveryCommand}" Style="{StaticResource FlatMetroAccentButton }">
                        <Button.CommandParameter>
                            <MultiBinding Converter="{StaticResource SingleCommandParametersConverter}">
                                <Binding ElementName="Context"/>
                                <Binding ElementName="CreateNoWindow" Path="IsChecked"/>
                                <Binding ElementName="Target" Path="Text"/>
                            </MultiBinding>
                        </Button.CommandParameter>
                        <Button.Content>
                            <DockPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                                <Rectangle Width="20" Height="20" Fill="White">
                                    <Rectangle.OpacityMask>
                                        <VisualBrush Visual="{StaticResource appbar_reset}" Stretch="Fill"/>
                                    </Rectangle.OpacityMask>
                                </Rectangle>
                                <TextBlock Margin="5,0,0,0" Text="REBOOT RECOVERY" Foreground="White" />
                            </DockPanel>
                        </Button.Content>
                    </Button>
                    <Button Margin="5" Height="50" Name="RebootBootloaderButton" Command="{Binding RebootBootloaderCommand}" Style="{StaticResource FlatMetroAccentButton }">
                        <Button.CommandParameter>
                            <MultiBinding Converter="{StaticResource SingleCommandParametersConverter}">
                                <Binding ElementName="Context"/>
                                <Binding ElementName="CreateNoWindow" Path="IsChecked"/>
                                <Binding ElementName="Target" Path="Text"/>
                            </MultiBinding>
                        </Button.CommandParameter>
                        <Button.Content>
                            <DockPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                                <Rectangle Width="20" Height="20" Fill="White">
                                    <Rectangle.OpacityMask>
                                        <VisualBrush Visual="{StaticResource appbar_reset}" Stretch="Fill"/>
                                    </Rectangle.OpacityMask>
                                </Rectangle>
                                <TextBlock Margin="5,0,0,0" Text="REBOOT BOOTLOADER" Foreground="White" />
                            </DockPanel>
                        </Button.Content>
                    </Button>
                </StackPanel>
            </metroControls:Flyout>
            <metroControls:Flyout Name="ListAppsFlyout" Header="APPS" Position="Left" Theme="Adapt" Width="250" IsModal="False" IsPinned="True">
                <ScrollViewer>
                    <StackPanel Margin="10">
                        <StackPanel.LayoutTransform>
                            <ScaleTransform CenterX="0" CenterY="0" ScaleX="{Binding ElementName=UiSlider,Path=Value}" ScaleY="{Binding ElementName=UiSlider,Path=Value}"/>
                        </StackPanel.LayoutTransform>
                        <Rectangle Width="90" Height="90" Margin="0,0,0,25" Fill="{StaticResource FlatButtonBackgroundBrush}" HorizontalAlignment="Center" VerticalAlignment="Center">
                            <Rectangle.OpacityMask>
                                <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_app}"></VisualBrush>
                            </Rectangle.OpacityMask>
                        </Rectangle>
                        <Button Margin="5" Height="50" Name="RefreshApps" Command="{Binding ListAppsCommand}" Style="{StaticResource FlatMetroAccentButton }">
                            <Button.CommandParameter>
                                <MultiBinding Converter="{StaticResource UIParametersConverter}">
                                    <Binding ElementName="Context"/>
                                    <Binding ElementName="Packages"/>
                                    <Binding ElementName="Target" Path="Text"/>
                                    <Binding ElementName="CreateNoWindow" Path="IsChecked"/>
                                    <Binding ElementName="ListAppsFlyout"/>
                                </MultiBinding>
                            </Button.CommandParameter>
                            <Button.Content>
                                <DockPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                                    <Rectangle Width="20" Height="20" Fill="White">
                                        <Rectangle.OpacityMask>
                                            <VisualBrush Visual="{StaticResource appbar_refresh}" Stretch="Fill"/>
                                        </Rectangle.OpacityMask>
                                    </Rectangle>
                                </DockPanel>
                            </Button.Content>
                        </Button>
                        <TextBox Name="Packages"/>
                    </StackPanel>
                </ScrollViewer>
            </metroControls:Flyout>
            <metroControls:Flyout Name="DevicesFlyout" Header="DEVICES" Position="Right" Width="500" Theme="Accent" IsPinned="True">
                <ScrollViewer CanContentScroll="True">
                    <StackPanel Margin="20">
                        <StackPanel.LayoutTransform>
                            <ScaleTransform CenterX="0" CenterY="0" ScaleX="{Binding ElementName=UiSlider,Path=Value}" ScaleY="{Binding ElementName=UiSlider,Path=Value}"/>
                        </StackPanel.LayoutTransform>
                        <Grid>
                            <Rectangle Width="80" Height="128" Fill="White" HorizontalAlignment="Center" VerticalAlignment="Center">
                                <Rectangle.OpacityMask>
                                    <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_iphone}"></VisualBrush>
                                </Rectangle.OpacityMask>
                            </Rectangle>
                            <Rectangle Width="45" Height="45" Fill="White" HorizontalAlignment="Center" VerticalAlignment="Center">
                                <Rectangle.OpacityMask>
                                    <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_list}"></VisualBrush>
                                </Rectangle.OpacityMask>
                            </Rectangle>
                        </Grid>
                        <Label Style="{StaticResource TileTitleLabel}" Foreground="White">ADB</Label>
                        <TextBox Name="ADBDevices" Width="{Binding}" Height="128"/>
                        <Grid Margin="10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="0.5*"/>
                                <ColumnDefinition Width="0.5*"/>
                            </Grid.ColumnDefinitions>
                            <Button Name="RefreshDevices" Grid.Column="0" Command="{Binding RefreshDevicesCommand}">
                                <Button.CommandParameter>
                                    <MultiBinding Converter="{StaticResource UIParametersConverter}">
                                        <Binding ElementName="Context"/>
                                        <Binding ElementName="ADBDevices"/>
                                        <Binding ElementName="Target" Path="Text"/>
                                        <Binding ElementName="CreateNoWindow" Path="IsChecked"/>
                                        <Binding ElementName="DevicesFlyout"/>
                                    </MultiBinding>
                                </Button.CommandParameter>
                                <Rectangle Width="16" Height="16" Fill="Gray" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="1">
                                    <Rectangle.OpacityMask>
                                        <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_refresh}"/>
                                    </Rectangle.OpacityMask>
                                </Rectangle>
                            </Button>
                            <Button Grid.Column="1" Command="{Binding DeviceInfoCommand}">
                                <Button.CommandParameter>
                                    <Binding ElementName="Target" Path="Text"/>
                                </Button.CommandParameter>
                                <DockPanel>
                                    <Rectangle Width="12" Height="16" Fill="Gray" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,0,5,0">
                                        <Rectangle.OpacityMask>
                                            <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_iphone}"/>
                                        </Rectangle.OpacityMask>
                                    </Rectangle>
                                    <TextBlock Foreground="Gray">details</TextBlock>
                                </DockPanel>
                            </Button>
                        </Grid>
                    </StackPanel>
                </ScrollViewer>
            </metroControls:Flyout>
            <metroControls:Flyout Position="Bottom" Header="Working..." Width="{Binding}" Height="90" Theme="Adapt" Background="#9f000000">
                <metroControls:ProgressRing IsActive="True" IsLarge="True" VerticalAlignment="Center" HorizontalAlignment="Center"/>
            </metroControls:Flyout>
            <metroControls:Flyout Position="Left" Header="ADB BACKUP TOOL" IsModal="False" Theme="Adapt" IsPinned="True" MinWidth="600">
                <ScrollViewer Margin="10">
                    <StackPanel>
                        <StackPanel.LayoutTransform>
                            <ScaleTransform CenterX="0" CenterY="0" ScaleX="{Binding ElementName=UiSlider,Path=Value}" ScaleY="{Binding ElementName=UiSlider,Path=Value}"/>
                        </StackPanel.LayoutTransform>
                        <DockPanel HorizontalAlignment="Center">
                            <Rectangle Width="128" Height="128" Margin="10" Fill="{StaticResource FlatButtonBackgroundBrush}" HorizontalAlignment="Left" VerticalAlignment="Center">
                                <Rectangle.OpacityMask>
                                    <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_refresh}"></VisualBrush>
                                </Rectangle.OpacityMask>
                            </Rectangle>
                            <Rectangle Width="128" Height="128" Margin="10" Fill="{StaticResource FlatButtonBackgroundBrush}" HorizontalAlignment="Left" VerticalAlignment="Center">
                                <Rectangle.OpacityMask>
                                    <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_database}"></VisualBrush>
                                </Rectangle.OpacityMask>
                            </Rectangle>
                        </DockPanel>
                        <TextBlock Margin="10,0,0,0" Style="{StaticResource TileTitle}" FontSize="16" TextWrapping="Wrap" Width="550" HorizontalAlignment="Left" VerticalAlignment="Top">The latest version of the ADB platform tools (for Android 4.0+ ) allows you to create a full system backup, including app apks, their respective data, as well as the internal storage. Android Toolkit gives you an opportunity to use GUI for backup operations. <Run Foreground="{DynamicResource AccentColorBrush}">Root is not required.</Run></TextBlock>
                        <Expander Header="Backup">
                            <StackPanel>
                                <DockPanel>
                                    <Label Style="{StaticResource TileTitleLabel}" FontSize="14" Foreground="DarkGray">BACKUP TYPE:</Label>
                                    <ComboBox Margin="10,0,0,0" Name="BackupTypeComboBox" ItemsSource="{Binding AdbBackupModes}" SelectedIndex="0">
                                        <ComboBox.ItemTemplate>
                                            <DataTemplate>
                                                <DockPanel>
                                                    <Rectangle Width="20" Height="20" Fill="DarkGray">
                                                        <Rectangle.OpacityMask>
                                                            <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_settings}"/>
                                                        </Rectangle.OpacityMask>
                                                    </Rectangle>
                                                    <Label Margin="10,0,0,0" Style="{StaticResource TileTitleLabel}" Foreground="DarkGray" Content="{Binding Text}"/>
                                                </DockPanel>
                                            </DataTemplate>
                                        </ComboBox.ItemTemplate>
                                    </ComboBox>
                                </DockPanel>
                                <DockPanel>
                                    <Label Style="{StaticResource TileTitleLabel}" FontSize="14" Foreground="DarkGray">BACKUP NAME:</Label>
                                    <TextBox VerticalAlignment="Center" Name="BackupName" Margin="5" Text="{Binding Path=BackupParameters.Text, ValidatesOnDataErrors=True, NotifyOnValidationError=True, ValidatesOnExceptions=True, UpdateSourceTrigger=PropertyChanged}" metroControls:TextboxHelper.ClearTextButton="True" metroControls:TextboxHelper.Watermark="ENTER BACKUP NAME" metroControls:TextboxHelper.FocusBorderBrush="{DynamicResource AccentColorBrush}"></TextBox>
                                </DockPanel>
                                <DockPanel>
                                    <Label Style="{StaticResource TileTitleLabel}" FontSize="14" Foreground="DarkGray">BACKUP LOCATION:</Label>
                                    <TextBox Style="{StaticResource TextBoxOpenStyle}" TextWrapping="Wrap" Name="BackupLocation" Margin="5" Text="{Binding Path=BackupParameters.Text2, ValidatesOnDataErrors=True, NotifyOnValidationError=True, ValidatesOnExceptions=True, UpdateSourceTrigger=PropertyChanged}" metroControls:TextboxHelper.ButtonCommand="{Binding SaveFileCommand}" metroControls:TextboxHelper.ButtonCommandParameter="{Binding ElementName=BackupLocation}"  metroControls:TextboxHelper.Watermark="ENTER OR CHOOSE LOCATION" metroControls:TextboxHelper.FocusBorderBrush="{DynamicResource AccentColorBrush}" />
                                </DockPanel>
                                <metroControls:Tile HorizontalAlignment="Left"  Command="{Binding BackupCommand}">
                                    <Button.CommandParameter>
                                        <MultiBinding Converter="{StaticResource BackupParametersConverter}">
                                            <Binding ElementName="Context"/>
                                            <Binding ElementName="BackupTypeComboBox"/>
                                            <Binding ElementName="BackupName" Path="Text"/>
                                            <Binding ElementName="BackupLocation" Path="Text"/>
                                            <Binding ElementName="CreateNoWindow" Path="IsChecked"/>
                                            <Binding ElementName="Target" Path="Text"/>
                                        </MultiBinding>
                                    </Button.CommandParameter>
                                    <Rectangle Width="80" Height="80" Fill="White">
                                        <Rectangle.OpacityMask>
                                            <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_reset}"></VisualBrush>
                                        </Rectangle.OpacityMask>
                                    </Rectangle>
                                </metroControls:Tile>
                            </StackPanel>
                        </Expander>
                        <Expander Header="Restore">
                            <DockPanel VerticalAlignment="Top">
                                <metroControls:Tile HorizontalAlignment="Left" Command="{Binding OpenBackupCommand}" CommandParameter="{Binding ElementName=RestoreFile}">
                                    <Rectangle Width="80" Height="80" Fill="White">
                                        <Rectangle.OpacityMask>
                                            <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_folder_open}"></VisualBrush>
                                        </Rectangle.OpacityMask>
                                    </Rectangle>
                                </metroControls:Tile>
                                <metroControls:Tile Command="{Binding RestoreCommand}" HorizontalAlignment="Left" Style="{StaticResource RestoreTileStyle}">
                                    <Button.CommandParameter>
                                        <MultiBinding Converter="{StaticResource TwoCommandsParametersConverter}">
                                            <Binding ElementName="Context"/>
                                            <Binding ElementName="RestoreFile" Path="Text"/>
                                            <Binding ElementName="CreateNoWindow" Path="IsChecked"/>
                                            <Binding ElementName="CreateNoWindow" Path="IsChecked"/>
                                            <Binding ElementName="Target" Path="Text"/>
                                        </MultiBinding>
                                    </Button.CommandParameter>
                                    <Rectangle Width="80" Height="80" Fill="White">
                                        <Rectangle.OpacityMask>
                                            <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_reset}"></VisualBrush>
                                        </Rectangle.OpacityMask>
                                    </Rectangle>
                                </metroControls:Tile>
                                <TextBox Visibility="Collapsed" Name="RestoreFile" Style="{StaticResource DropTextBox}" HorizontalAlignment="Left" AllowDrop="True" Text="{Binding Path=RestoreParameters.Text, ValidatesOnDataErrors=True, ValidatesOnExceptions=True, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged}" metroControls:TextboxHelper.ButtonCommand="{Binding OpenBackupCommand}" metroControls:TextboxHelper.ButtonCommandParameter="{Binding RelativeSource={RelativeSource Self}}" metroControls:TextboxHelper.Watermark="ENTER OR CHOOSE THE BACKUP (.ab)"></TextBox>
                            </DockPanel>
                        </Expander>
                    </StackPanel>
                </ScrollViewer>
            </metroControls:Flyout>
            <metroControls:Flyout Position="Right" Header="Remote ADB" IsModal="True" Theme="Adapt" IsPinned="False">
                <Grid>
                    <Grid.LayoutTransform>
                        <ScaleTransform CenterX="0" CenterY="0" ScaleX="{Binding ElementName=UiSlider,Path=Value}" ScaleY="{Binding ElementName=UiSlider,Path=Value}"/>
                    </Grid.LayoutTransform>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="0.50*"></ColumnDefinition>
                        <ColumnDefinition Width="0.50*"></ColumnDefinition>
                    </Grid.ColumnDefinitions>
                    <Grid Margin="20" Width="128" Height="128" Grid.Column="0"  VerticalAlignment="Top" HorizontalAlignment="Center">
                        <Grid.Background>
                            <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_rss}"/>
                        </Grid.Background>
                    </Grid>
                    <StackPanel Margin="20" Grid.Column="1">
                        <GroupBox Header="SET UP">
                            <StackPanel Margin="10">
                                <TextBox Width="{Binding}" metroControls:TextboxHelper.ClearTextButton="True" metroControls:TextboxHelper.SelectAllOnFocus="True" Text="{Binding Path=RemoteConnectParameters.Text, ValidatesOnDataErrors=True, NotifyOnValidationError=True, ValidatesOnExceptions=True, UpdateSourceTrigger=PropertyChanged}" metroControls:TextboxHelper.Watermark="ENTER DEVICE PORT" metroControls:TextboxHelper.FocusBorderBrush="{DynamicResource AccentColorBrush}" x:Name="TargetDevicePort" Margin="0,5,0,5" VerticalAlignment="Center" HorizontalAlignment="Left"/>
                                <TextBox Width="{Binding}"  metroControls:TextboxHelper.ClearTextButton="True" metroControls:TextboxHelper.SelectAllOnFocus="True" Text="{Binding Path=RemoteConnectParameters.Text2, ValidatesOnDataErrors=True, NotifyOnValidationError=True, ValidatesOnExceptions=True, UpdateSourceTrigger=PropertyChanged}" metroControls:TextboxHelper.Watermark="ENTER DEVICE IP" x:Name="TargetDeviceIP" Margin="0,5,0,5" VerticalAlignment="Center" HorizontalAlignment="Left"/>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="0.5*"/>
                                        <ColumnDefinition Width="0.5*"/>
                                    </Grid.ColumnDefinitions>
                                    <Button Margin="0,0,1,0" x:Name="ApplyRemoteADB" Style="{StaticResource RemoteConnectButtonStyle}" Command="{Binding RemoteConnectCommand}" Grid.Column="0" HorizontalAlignment="Left" Foreground="#FF706D6D" MinWidth="200" >
                                        <Button.CommandParameter>
                                            <MultiBinding Converter="{StaticResource ThreeTextCommandParametersConverter}">
                                                <Binding ElementName="Context"/>
                                                <Binding ElementName="TargetDeviceIP" Path="Text"/>
                                                <Binding ElementName="TargetDevicePort" Path="Text"/>
                                                <Binding ElementName="CreateNoWindow" Path="IsChecked"/>
                                                <Binding ElementName="Target" Path="Text"/>
                                            </MultiBinding>
                                        </Button.CommandParameter>
                                        <Rectangle Width="30" Height="30" VerticalAlignment="Center" HorizontalAlignment="Center" Fill="White">
                                            <Rectangle.OpacityMask>
                                                <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_radar}"/>
                                            </Rectangle.OpacityMask>
                                        </Rectangle>
                                    </Button>
                                    <Button Margin="1,0,0,0" x:Name="KillRemoteADB" Command="{Binding RemoteDisconnectCommand}" Grid.Column="1" Foreground="#FF706D6D" HorizontalAlignment="Left" MinWidth="200" >
                                        <Button.CommandParameter>
                                            <MultiBinding Converter="{StaticResource SingleCommandParametersConverter}">
                                                <Binding ElementName="Context"/>
                                                <Binding ElementName="CreateNoWindow" Path="IsChecked"/>
                                                <Binding ElementName="Target" Path="Text"/>
                                            </MultiBinding>
                                        </Button.CommandParameter>
                                        <Rectangle Width="30" Height="30" VerticalAlignment="Center" Fill="#FF706D6D">
                                            <Rectangle.OpacityMask>
                                                <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_connect}"/>
                                            </Rectangle.OpacityMask>
                                        </Rectangle>
                                    </Button>
                                </Grid>
                            </StackPanel>
                        </GroupBox>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="0.5*"/>
                                <ColumnDefinition Width="0.5*"/>
                            </Grid.ColumnDefinitions>
                            <Expander Grid.Column="0" Header="SAVE IP">
                                <StackPanel>
                                    <TextBox Text="{Binding Path=RemoteSaveParameters.Text, ValidatesOnDataErrors=True, NotifyOnValidationError=True, ValidatesOnExceptions=True, UpdateSourceTrigger=PropertyChanged}" metroControls:TextboxHelper.ClearTextButton="True" metroControls:TextboxHelper.SelectAllOnFocus="True" metroControls:TextboxHelper.Watermark="ENTER DEVICE ADDRESS" x:Name="SaveDeviceIP" Margin="0,5,0,5" VerticalAlignment="Center" HorizontalAlignment="Left"/>
                                    <TextBox Text="{Binding Path=RemoteSaveParameters.Text2, ValidatesOnDataErrors=True, NotifyOnValidationError=True, ValidatesOnExceptions=True, UpdateSourceTrigger=PropertyChanged}" metroControls:TextboxHelper.ClearTextButton="True" metroControls:TextboxHelper.SelectAllOnFocus="True" metroControls:TextboxHelper.Watermark="ENTER DEVICE NAME" x:Name="SaveDeviceName" Margin="0,5,0,5" VerticalAlignment="Center" HorizontalAlignment="Left"/>
                                    <Button x:Name="SaveIPButton" Style="{DynamicResource SaveRemoteInfoButtonStyle}" Command="{Binding SaveRemoteInfoCommand}">
                                        <Button.CommandParameter>
                                            <MultiBinding Converter="{StaticResource ThreeTextCommandParametersConverter}">
                                                <Binding ElementName="Context"/>
                                                <Binding ElementName="SaveDeviceIP" Path="Text"/>
                                                <Binding ElementName="SaveDeviceName" Path="Text"/>
                                                <Binding ElementName="CreateNoWindow" Path="IsChecked"/>
                                                <Binding ElementName="Target" Path="Text"/>
                                            </MultiBinding>
                                        </Button.CommandParameter>
                                        <Rectangle Width="24" Height="22">
                                            <Rectangle.Fill>
                                                <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_save}" />
                                            </Rectangle.Fill>
                                        </Rectangle>
                                    </Button>
                                </StackPanel>
                            </Expander>
                            <Expander Grid.Column="1" Header="IP List">
                                <ScrollViewer CanContentScroll="True" VerticalScrollBarVisibility="Auto">
                                    <StackPanel>
                                        <ListView x:Name="IPListView" MinWidth="300" MaxHeight="300" ItemsSource="{Binding Path=RemoteInfos}">
                                            <ListView.ItemTemplate>
                                                <DataTemplate>
                                                    <DockPanel>
                                                        <Rectangle Width="18" Height="28" Margin="10">
                                                            <Rectangle.Fill>
                                                                <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_iphone}" />
                                                            </Rectangle.Fill>
                                                        </Rectangle>
                                                        <TextBlock FontFamily="Segoe UI"  Foreground="DarkGray" Margin="1">Address:</TextBlock>
                                                        <TextBlock FontFamily="Segoe UI"  Foreground="DarkGray" Text="{Binding Path=Address}" FontWeight="Bold" Margin="1" />
                                                        <TextBlock FontFamily="Segoe UI"  Foreground="DarkGray" Margin="1">Name:</TextBlock>
                                                        <TextBlock Foreground="DarkGray" Text="{Binding Path=DeviceName}" FontWeight="Bold" Margin="1"  />
                                                    </DockPanel>
                                                </DataTemplate>
                                            </ListView.ItemTemplate>

                                        </ListView>
                                        <Grid Margin="0,10,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="0.5*"/>
                                                <ColumnDefinition Width="0.5*"/>
                                            </Grid.ColumnDefinitions>
                                            <Button Grid.Column="0" x:Name="RefreshIPButton" Command="{Binding RefreshRemoteInfoCommand}" CommandParameter="{Binding ElementName=IPListView}" Style="{DynamicResource FlatMetroAccentButton}">
                                                <Rectangle Width="24" Height="22">
                                                    <Rectangle.Fill>
                                                        <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_refresh}" />
                                                    </Rectangle.Fill>
                                                </Rectangle>
                                            </Button>
                                            <Button Grid.Column="1" x:Name="DeleteIPButton" Command="{Binding DeleteRemoteInfoCommand}" Style="{DynamicResource FlatMetroAccentButton}">
                                                <Button.CommandParameter>
                                                    <Binding ElementName="IPListView" Path="SelectedItem"/>
                                                </Button.CommandParameter>
                                                <Rectangle Width="24" Height="22">
                                                    <Rectangle.Fill>
                                                        <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_delete}" />
                                                    </Rectangle.Fill>
                                                </Rectangle>
                                            </Button>
                                        </Grid>
                                    </StackPanel>
                                </ScrollViewer>
                            </Expander>
                        </Grid>
                        <Button x:Name="RemoteADBHelp" Foreground="#FF706D6D" Margin="40,0">
                            <DockPanel>
                                <Rectangle Width="30" Height="30" VerticalAlignment="Center" HorizontalAlignment="Left" Fill="#FF706D6D">
                                    <Rectangle.OpacityMask>
                                        <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_lines_horizontal_4}"/>
                                    </Rectangle.OpacityMask>
                                </Rectangle>
                                <TextBlock Foreground="#FF706D6D" VerticalAlignment="Center" HorizontalAlignment="Left" TextWrapping="Wrap" Margin="10,0,0,0">HELP</TextBlock>
                            </DockPanel>
                        </Button>
                    </StackPanel>
                </Grid>
            </metroControls:Flyout>
        </metroControls:FlyoutsControl>
    </metroControls:MetroWindow.Flyouts>

    <metroControls:MetroContentControl>
        <Grid x:Name="LayoutRoot">
            <Grid.LayoutTransform>
                <ScaleTransform CenterX="0" CenterY="0" ScaleX="{Binding ElementName=UiSlider,Path=Value}" ScaleY="{Binding ElementName=UiSlider,Path=Value}"/>
            </Grid.LayoutTransform>
            <Grid.RowDefinitions>
                <RowDefinition Height="0.225*"/>
                <RowDefinition Height="0.725*"/>
                <RowDefinition Height="0.04*"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="0.75*"/>
                <ColumnDefinition Width="0.25*"/>
            </Grid.ColumnDefinitions>
            <ScrollViewer Grid.Column="0" Grid.Row="0" CanContentScroll="True" VerticalScrollBarVisibility="Hidden" HorizontalScrollBarVisibility="Auto">
                <controls:Logo Name="Header" Height="{Binding}" Width="{Binding}"/>
            </ScrollViewer>
            <GridSplitter Background="Gray" Grid.Column="0" Grid.Row="1" Width="8"/>

            <TabControl Name="Tools" Grid.Column="0" Grid.Row="1" Margin="20,20,20,0" >
                <TabItem Header="Overview">
                    <ScrollViewer>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="0.3*"/>
                                <ColumnDefinition Width="0.7*"/>
                            </Grid.ColumnDefinitions>
                            <Rectangle Name="OverviewRectangle" Fill="Gray" Width="128" Height="2" Grid.Column="0" VerticalAlignment="Top" HorizontalAlignment="Center">
                                <Rectangle.OpacityMask>
                                    <VisualBrush Visual="{StaticResource appbar_thumbs_up}"></VisualBrush>
                                </Rectangle.OpacityMask>
                            </Rectangle>
                            <StackPanel Grid.Column="1">
                                <TextBlock x:Name="OverviewText" Style="{StaticResource TileTitle}" FontSize="1" TextWrapping="Wrap" Text="Android Debug Bridge (adb) is a versatile command line tool that lets you communicate with an emulator instance or connected Android-powered device. &#x0a;Android Toolkit gives you an opportunity to use GUI (graphical user interface) for every device/emulator operation rather than writing commands in command prompt (cmd)." />
                                <Button Margin="0,10,0,0" Width="100" Height="40" VerticalAlignment="Center" HorizontalAlignment="Left">
                                    <Button.Content>
                                        <DockPanel>
                                            <Rectangle Fill="Gray" Width="20" Height="20" Margin="0,0,5,0">
                                                <Rectangle.OpacityMask>
                                                    <VisualBrush Visual="{StaticResource appbar_question}"></VisualBrush>
                                                </Rectangle.OpacityMask>
                                            </Rectangle>
                                            <TextBlock Foreground="Gray" Text="HELP"/>
                                        </DockPanel>
                                    </Button.Content>
                                </Button>
                            </StackPanel>
                        </Grid>
                    </ScrollViewer>

                </TabItem>
                <TabItem Header="Push/Pull">
                    <ScrollViewer CanContentScroll="True" HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="0.2*"/>
                                <ColumnDefinition Width="0.4*"/>
                                <ColumnDefinition Width="0.4*"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel Grid.Column="0">
                                <Rectangle Margin="5" Width="130" Height="150" HorizontalAlignment="Center" VerticalAlignment="Top" Fill="DarkGray">
                                    <Rectangle.OpacityMask>
                                        <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_sd}"></VisualBrush>
                                    </Rectangle.OpacityMask>
                                </Rectangle>
                                <Rectangle Width="130" Height="150" HorizontalAlignment="Center" VerticalAlignment="Top" Fill="DarkGray">
                                    <Rectangle.OpacityMask>
                                        <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_cabinet_files}"></VisualBrush>
                                    </Rectangle.OpacityMask>
                                </Rectangle>
                            </StackPanel>

                            <GroupBox VerticalAlignment="Top" Header="push" Grid.Column="1">
                                <StackPanel>
                                    <Button Name="PushChoose" CommandParameter="{Binding ElementName=PushFile}" Command="{Binding OpenFileCommand}" Width="80" Height="80" Style="{DynamicResource MetroCircleButtonStyle}" HorizontalAlignment="Center" VerticalAlignment="Center">
                                        <Rectangle Width="40" Height="40" Fill="DarkGray">
                                            <Rectangle.OpacityMask>
                                                <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_folder_open}"></VisualBrush>
                                            </Rectangle.OpacityMask>
                                        </Rectangle>
                                    </Button>
                                    <TextBox AllowDrop="True" Style="{StaticResource TextBoxOpenStyle}" TextWrapping="Wrap" Name="PushFile" Margin="5" Text="{Binding Path=ThreeTextCommandParameters.Text, ValidatesOnDataErrors=True, NotifyOnValidationError=True, ValidatesOnExceptions=True, UpdateSourceTrigger=PropertyChanged}" metroControls:TextboxHelper.ButtonCommand="{Binding OpenFileCommand}" metroControls:TextboxHelper.ButtonCommandParameter="{Binding ElementName=PushFile}"  metroControls:TextboxHelper.Watermark="ENTER OR CHOOSE FILE/S" metroControls:TextboxHelper.FocusBorderBrush="{DynamicResource AccentColorBrush}" />
                                    <TextBox Name="PushLocation" Margin="5" Text="{Binding Path=ThreeTextCommandParameters.Text2, ValidatesOnDataErrors=True, ValidatesOnExceptions=True, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged}" metroControls:TextboxHelper.Watermark="ENTER PUSH LOCATION" metroControls:TextboxHelper.ClearTextButton="True" metroControls:TextboxHelper.FocusBorderBrush="{DynamicResource AccentColorBrush}"/>
                                    <Button Margin="5" Name="PushButton" Command="{Binding PushCommand}" Style="{StaticResource PushButtonStyle}">
                                        <Button.CommandParameter>
                                            <MultiBinding Converter="{StaticResource ThreeTextCommandParametersConverter}">
                                                <Binding ElementName="Context"/>
                                                <Binding ElementName="PushFile" Path="Text"/>
                                                <Binding ElementName="PushLocation" Path="Text"/>
                                                <Binding ElementName="CreateNoWindow" Path="IsChecked"/>
                                                <Binding ElementName="Target" Path="Text"/>
                                            </MultiBinding>
                                        </Button.CommandParameter>
                                        <Button.Content>
                                            <DockPanel>
                                                <Rectangle Width="16" Height="16" Fill="{StaticResource WindowBackgroundBrush}">
                                                    <Rectangle.OpacityMask>
                                                        <VisualBrush Visual="{StaticResource appbar_check}" Stretch="Fill"/>
                                                    </Rectangle.OpacityMask>
                                                </Rectangle>
                                                <TextBlock Margin="5,0,0,0" Text="PUSH" />
                                            </DockPanel>
                                        </Button.Content>
                                    </Button>
                                </StackPanel>
                            </GroupBox>
                            <GroupBox VerticalAlignment="Top"  Header="PULL" Grid.Column="2">
                                <StackPanel>
                                    <Button Name="PullChoose" Command="{Binding SaveFileCommand}" CommandParameter="{Binding ElementName=PullLocation}" Width="80" Height="80" Style="{DynamicResource MetroCircleButtonStyle}" HorizontalAlignment="Center" VerticalAlignment="Center">
                                        <Rectangle Width="40" Height="40" Fill="DarkGray">
                                            <Rectangle.OpacityMask>
                                                <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_save}"></VisualBrush>
                                            </Rectangle.OpacityMask>
                                        </Rectangle>
                                    </Button>
                                    <TextBox Style="{StaticResource TextBoxOpenStyle}" TextWrapping="Wrap" Name="PullLocation" Margin="5" Text="{Binding Path=FiveTextCommandParameters.Text, ValidatesOnDataErrors=True, NotifyOnValidationError=True, ValidatesOnExceptions=True, UpdateSourceTrigger=PropertyChanged}" metroControls:TextboxHelper.ButtonCommand="{Binding SaveFileCommand}" metroControls:TextboxHelper.ButtonCommandParameter="{Binding ElementName=PullLocation}"  metroControls:TextboxHelper.Watermark="ENTER OR CHOOSE LOCATION" metroControls:TextboxHelper.FocusBorderBrush="{DynamicResource AccentColorBrush}" />
                                    <TextBox TextWrapping="Wrap" Name="PullFile1" Margin="5" Text="{Binding Path=FiveTextCommandParameters.Text2, ValidatesOnDataErrors=True, NotifyOnValidationError=True, ValidatesOnExceptions=True, UpdateSourceTrigger=PropertyChanged}"  metroControls:TextboxHelper.Watermark="PULL FILE 1 PATH" metroControls:TextboxHelper.FocusBorderBrush="{DynamicResource AccentColorBrush}"  metroControls:TextboxHelper.ClearTextButton="True"/>
                                    <Expander Header="PULL MORE FILES">
                                        <StackPanel>
                                            <TextBox Style="{StaticResource TextBoxStyle}" TextWrapping="Wrap" Name="PullFile2" Margin="5" Text="{Binding Path=FiveTextCommandParameters.Text3, ValidatesOnDataErrors=True, NotifyOnValidationError=True, ValidatesOnExceptions=True, UpdateSourceTrigger=PropertyChanged}"   metroControls:TextboxHelper.Watermark="PULL FILE 2 PATH" metroControls:TextboxHelper.FocusBorderBrush="{DynamicResource AccentColorBrush}" metroControls:TextboxHelper.ClearTextButton="True" />
                                            <TextBox Style="{StaticResource TextBoxStyle}" TextWrapping="Wrap" Name="PullFile3" Margin="5" Text="{Binding Path=FiveTextCommandParameters.Text4, ValidatesOnDataErrors=True, NotifyOnValidationError=True, ValidatesOnExceptions=True, UpdateSourceTrigger=PropertyChanged}"   metroControls:TextboxHelper.Watermark="PULL FILE 3 PATH" metroControls:TextboxHelper.FocusBorderBrush="{DynamicResource AccentColorBrush}" metroControls:TextboxHelper.ClearTextButton="True" />
                                            <TextBox Style="{StaticResource TextBoxStyle}" TextWrapping="Wrap" Name="PullFile4" Margin="5" Text="{Binding Path=FiveTextCommandParameters.Text5, ValidatesOnDataErrors=True, NotifyOnValidationError=True, ValidatesOnExceptions=True, UpdateSourceTrigger=PropertyChanged}"   metroControls:TextboxHelper.Watermark="PULL FILE 4 PATH" metroControls:TextboxHelper.FocusBorderBrush="{DynamicResource AccentColorBrush}" metroControls:TextboxHelper.ClearTextButton="True" />
                                        </StackPanel>
                                    </Expander>
                                    <Button Margin="5" Name="PullButton" Command="{Binding PullCommand}" Style="{StaticResource PullButtonStyle}">
                                        <Button.CommandParameter>
                                            <MultiBinding Converter="{StaticResource FiveTextCommandParametersConverter}">
                                                <Binding ElementName="Context"/>
                                                <Binding ElementName="PullLocation" Path="Text"/>
                                                <Binding ElementName="PullFile1" Path="Text"/>
                                                <Binding ElementName="PullFile2" Path="Text"/>
                                                <Binding ElementName="PullFile3" Path="Text"/>
                                                <Binding ElementName="PullFile4" Path="Text"/>
                                                <Binding ElementName="CreateNoWindow" Path="IsChecked"/>
                                                <Binding ElementName="Target" Path="Text"/>
                                            </MultiBinding>
                                        </Button.CommandParameter>
                                        <Button.Content>
                                            <DockPanel>
                                                <Rectangle Width="16" Height="16" Fill="{StaticResource WindowBackgroundBrush}">
                                                    <Rectangle.OpacityMask>
                                                        <VisualBrush Visual="{StaticResource appbar_check}" Stretch="Fill"/>
                                                    </Rectangle.OpacityMask>
                                                </Rectangle>
                                                <TextBlock Margin="5,0,0,0" Text="PULL" />
                                            </DockPanel>
                                        </Button.Content>
                                    </Button>
                                </StackPanel>
                            </GroupBox>

                        </Grid>
                    </ScrollViewer>
                </TabItem>
                <TabItem Header="Copy/Move/Delete">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="0.25*"/>
                            <ColumnDefinition Width="0.25*"/>
                            <ColumnDefinition Width="0.25*"/>
                            <ColumnDefinition Width="0.25*"/>
                        </Grid.ColumnDefinitions>
                        <Rectangle VerticalAlignment="Top" HorizontalAlignment="Center" Fill="Gray" Width="128" Height="128">
                            <Rectangle.OpacityMask>
                                <VisualBrush Visual="{StaticResource appbar_cabinet_files}" Stretch="Fill"/>
                            </Rectangle.OpacityMask>
                        </Rectangle>
                        <GroupBox VerticalAlignment="Top"  Header="Copy" Grid.Column="1">
                            <StackPanel>
                                <TextBox Name="CopyFrom" Margin="5" Text="{Binding Path=CopyCommandParameters.Text, ValidatesOnDataErrors=True, ValidatesOnExceptions=True, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged}" metroControls:TextboxHelper.Watermark="ENTER 'FROM' LOCATION" metroControls:TextboxHelper.ClearTextButton="True" metroControls:TextboxHelper.FocusBorderBrush="{DynamicResource AccentColorBrush}"/>
                                <TextBox Name="CopyTo" Margin="5" Text="{Binding Path=CopyCommandParameters.Text2, ValidatesOnDataErrors=True, ValidatesOnExceptions=True, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged}" metroControls:TextboxHelper.Watermark="ENTER 'TO' LOCATION" metroControls:TextboxHelper.ClearTextButton="True" metroControls:TextboxHelper.FocusBorderBrush="{DynamicResource AccentColorBrush}"/>
                                <Button x:Name="CopyButton" Command="{Binding CopyCommand}" Width="80" Height="80" Style="{DynamicResource CopyButtonStyle}" HorizontalAlignment="Center" VerticalAlignment="Center">
                                    <Button.CommandParameter>
                                        <MultiBinding Converter="{StaticResource ThreeTextCommandParametersConverter}">
                                            <Binding ElementName="Context"/>
                                            <Binding ElementName="CopyFrom" Path="Text"/>
                                            <Binding ElementName="CopyTo" Path="Text"/>
                                            <Binding ElementName="CreateNoWindow" Path="IsChecked"/>
                                            <Binding ElementName="Target" Path="Text"/>
                                        </MultiBinding>
                                    </Button.CommandParameter>
                                    <Rectangle Width="40" Height="40" Fill="DarkGray">
                                        <Rectangle.OpacityMask>
                                            <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_check}"/>
                                        </Rectangle.OpacityMask>
                                    </Rectangle>
                                </Button>
                            </StackPanel>
                        </GroupBox>
                        <GroupBox VerticalAlignment="Top"  Header="Move" Grid.Column="2">
                            <StackPanel>
                                <TextBox Name="MoveFrom" Margin="5" Text="{Binding Path=MoveCommandParameters.Text, ValidatesOnDataErrors=True, ValidatesOnExceptions=True, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged}" metroControls:TextboxHelper.Watermark="ENTER 'FROM' LOCATION" metroControls:TextboxHelper.ClearTextButton="True" metroControls:TextboxHelper.FocusBorderBrush="{DynamicResource AccentColorBrush}"/>
                                <TextBox Name="MoveTo" Margin="5" Text="{Binding Path=MoveCommandParameters.Text2, ValidatesOnDataErrors=True, ValidatesOnExceptions=True, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged}" metroControls:TextboxHelper.Watermark="ENTER 'TO' LOCATION" metroControls:TextboxHelper.ClearTextButton="True" metroControls:TextboxHelper.FocusBorderBrush="{DynamicResource AccentColorBrush}"/>
                                <Button x:Name="MoveButton" Command="{Binding MoveCommand}" Width="80" Height="80" Style="{DynamicResource MoveButtonStyle}" HorizontalAlignment="Center" VerticalAlignment="Center">
                                    <Button.CommandParameter>
                                        <MultiBinding Converter="{StaticResource ThreeTextCommandParametersConverter}">
                                            <Binding ElementName="Context"/>
                                            <Binding ElementName="MoveFrom" Path="Text"/>
                                            <Binding ElementName="MoveTo" Path="Text"/>
                                            <Binding ElementName="CreateNoWindow" Path="IsChecked"/>
                                            <Binding ElementName="Target" Path="Text"/>
                                        </MultiBinding>
                                    </Button.CommandParameter>
                                    <Rectangle Width="40" Height="40" Fill="DarkGray">
                                        <Rectangle.OpacityMask>
                                            <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_check}"/>
                                        </Rectangle.OpacityMask>
                                    </Rectangle>
                                </Button>
                            </StackPanel>
                        </GroupBox>
                        <GroupBox VerticalAlignment="Top"  Header="Delete" Grid.Column="3">
                            <StackPanel>
                                <TextBox Name="DeletePath" Margin="5" Text="{Binding Path=DeleteCommandParameters.Text, ValidatesOnDataErrors=True, ValidatesOnExceptions=True, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged}" metroControls:TextboxHelper.Watermark="ENTER DELETE LOCATION" metroControls:TextboxHelper.ClearTextButton="True" metroControls:TextboxHelper.FocusBorderBrush="{DynamicResource AccentColorBrush}"/>
                                <Button x:Name="DeleteButton" Command="{Binding DeleteCommand}" Width="80" Height="80" Style="{DynamicResource DeleteButtonStyle}" HorizontalAlignment="Center" VerticalAlignment="Center">
                                    <Button.CommandParameter>
                                        <MultiBinding Converter="{StaticResource TwoCommandsParametersConverter}">
                                            <Binding ElementName="Context"/>
                                            <Binding ElementName="DeletePath" Path="Text"/>
                                            <Binding ElementName="CreateNoWindow" Path="IsChecked"/>
                                            <Binding ElementName="CreateNoWindow" Path="IsChecked"/>
                                            <Binding ElementName="Target" Path="Text"/>
                                        </MultiBinding>
                                    </Button.CommandParameter>
                                    <Rectangle Width="40" Height="40" Fill="DarkGray">
                                        <Rectangle.OpacityMask>
                                            <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_check}"/>
                                        </Rectangle.OpacityMask>
                                    </Rectangle>
                                </Button>
                            </StackPanel>
                        </GroupBox>
                    </Grid>
                </TabItem>
                <TabItem Header="Install/Remove">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="0.2*"/>
                            <ColumnDefinition Width="0.4*"/>
                            <ColumnDefinition Width="0.4*"/>
                        </Grid.ColumnDefinitions>

                        <ScrollViewer Grid.Column="0" CanContentScroll="True">
                            <StackPanel>
                                <Rectangle Width="130" Height="150" HorizontalAlignment="Center" VerticalAlignment="Top"  Fill="{DynamicResource FlatButtonBackgroundBrush}">
                                    <Rectangle.OpacityMask>
                                        <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_box}"></VisualBrush>
                                    </Rectangle.OpacityMask>
                                </Rectangle>
                                <metroControls:Tile Name="ListApps" Command="{Binding ListAppsCommand}" Title="LIST PACKAGES">
                                    <Button.CommandParameter>
                                        <MultiBinding Converter="{StaticResource UIParametersConverter}">
                                            <Binding ElementName="Context"/>
                                            <Binding ElementName="Packages"/>
                                            <Binding ElementName="Target" Path="Text"></Binding>
                                            <Binding ElementName="CreateNoWindow" Path="IsChecked"/>
                                            <Binding ElementName="ListAppsFlyout"/>
                                        </MultiBinding>
                                    </Button.CommandParameter>
                                    <Rectangle Width="80" Height="80" Fill="White">
                                        <Rectangle.OpacityMask>
                                            <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_list}"></VisualBrush>
                                        </Rectangle.OpacityMask>
                                    </Rectangle>
                                </metroControls:Tile>
                            </StackPanel>
                        </ScrollViewer>


                        <GroupBox  VerticalAlignment="Top"  Header="install" Grid.Column="1">
                            <StackPanel>
                                <metroControls:ToggleSwitch Name="InstallSystemApp" Header="System App" IsChecked="{Binding InstallTwoCommandParameters.Bool}"/>
                                <Button Name="InstallChoose" CommandParameter="{Binding ElementName=InstallApp}" Command="{Binding OpenAppCommand}"  Width="80" Height="80" Style="{DynamicResource MetroCircleButtonStyle}" HorizontalAlignment="Center" VerticalAlignment="Center">
                                    <Rectangle Width="40" Height="40" Fill="{StaticResource FlatButtonBackgroundBrush}">
                                        <Rectangle.OpacityMask>
                                            <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_folder_open}"></VisualBrush>
                                        </Rectangle.OpacityMask>
                                    </Rectangle>
                                </Button>
                                <TextBox TextWrapping="Wrap" Name="InstallApp" Margin="5" Text="{Binding Path=InstallTwoCommandParameters.Text, ValidatesOnDataErrors=True, NotifyOnValidationError=True, ValidatesOnExceptions=True, UpdateSourceTrigger=PropertyChanged}" metroControls:TextboxHelper.ButtonCommand="{Binding OpenAppCommand}"  metroControls:TextboxHelper.ButtonCommandParameter="{Binding ElementName=InstallApp}"  metroControls:TextboxHelper.Watermark="ENTER OR CHOOSE APP (.apk)" metroControls:TextboxHelper.FocusBorderBrush="{DynamicResource AccentColorBrush}" />
                                <Button Margin="5" Name="InstallButton" Command="{Binding InstallCommand}" Style="{StaticResource InstallButtonStyle}">
                                    <Button.CommandParameter>
                                        <MultiBinding Converter="{StaticResource TwoCommandsParametersConverter}">
                                            <Binding ElementName="Context"/>
                                            <Binding ElementName="InstallApp" Path="Text"/>
                                            <Binding ElementName="InstallSystemApp" Path="IsChecked"/>
                                            <Binding ElementName="CreateNoWindow" Path="IsChecked"/>
                                            <Binding ElementName="Target" Path="Text"/>
                                        </MultiBinding>
                                    </Button.CommandParameter>
                                    <Button.Content>
                                        <DockPanel>
                                            <Rectangle Width="16" Height="16" Fill="{StaticResource WindowBackgroundBrush}">
                                                <Rectangle.OpacityMask>
                                                    <VisualBrush Visual="{StaticResource appbar_add}" Stretch="Fill"/>
                                                </Rectangle.OpacityMask>
                                            </Rectangle>
                                            <TextBlock Margin="5,0,0,0" Text="INSTALL" />
                                        </DockPanel>
                                    </Button.Content>
                                </Button>
                            </StackPanel>
                        </GroupBox>
                        <GroupBox VerticalAlignment="Top"  Header="uninstall" Grid.Column="2">
                            <StackPanel>
                                <metroControls:ToggleSwitch Name="UninstallSystemApp" Header="System App" IsChecked="{Binding UninstallTwoCommandParameters.Bool}"/>
                                <TextBox TextWrapping="Wrap" Name="UninstallApp" Margin="5" Text="{Binding Path=UninstallTwoCommandParameters.Text, ValidatesOnDataErrors=True, NotifyOnValidationError=True, ValidatesOnExceptions=True, UpdateSourceTrigger=PropertyChanged}" metroControls:TextboxHelper.ButtonCommand="{Binding OpenAppCommand}"  metroControls:TextboxHelper.ButtonCommandParameter="{Binding ElementName=UninstallApp}"  metroControls:TextboxHelper.Watermark="ENTER THE APP NAME OR PATH" metroControls:TextboxHelper.FocusBorderBrush="{DynamicResource AccentColorBrush}" />
                                <Button Margin="5" Name="UninstallButton" Command="{Binding UninstallCommand}" Style="{StaticResource UninstallButtonStyle}">
                                    <Button.CommandParameter>
                                        <MultiBinding Converter="{StaticResource TwoCommandsParametersConverter}">
                                            <Binding ElementName="Context"/>
                                            <Binding ElementName="UninstallApp" Path="Text"/>
                                            <Binding ElementName="UninstallSystemApp" Path="IsChecked"/>
                                            <Binding ElementName="CreateNoWindow" Path="IsChecked"/>
                                            <Binding ElementName="Target" Path="Text"/>
                                        </MultiBinding>
                                    </Button.CommandParameter>
                                    <Button.Content>
                                        <DockPanel>
                                            <Rectangle Width="16" Height="16" Fill="{StaticResource WindowBackgroundBrush}">
                                                <Rectangle.OpacityMask>
                                                    <VisualBrush Visual="{StaticResource appbar_delete}" Stretch="Fill"/>
                                                </Rectangle.OpacityMask>
                                            </Rectangle>
                                            <TextBlock Margin="5,0,0,0" Text="UNINSTALL" />
                                        </DockPanel>
                                    </Button.Content>
                                </Button>
                            </StackPanel>
                        </GroupBox>
                    </Grid>
                </TabItem>
                <TabItem Header="Sideload">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="0.25*"/>
                            <ColumnDefinition Width="0.75*"/>
                        </Grid.ColumnDefinitions>
                        <Rectangle Margin="5" Width="130" Height="150" HorizontalAlignment="Center" VerticalAlignment="Top" Fill="DarkGray" Grid.Column="0">
                            <Rectangle.OpacityMask>
                                <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_download}"/>
                            </Rectangle.OpacityMask>
                        </Rectangle>
                        <GroupBox  VerticalAlignment="Top"  Grid.Column="1" Header="Sideload">
                            <ScrollViewer CanContentScroll="True" HorizontalScrollBarVisibility="Auto">
                                <Grid>
                                    <StackPanel>
                                        <DockPanel HorizontalAlignment="Center">
                                            <metroControls:Tile Command="{Binding OpenZipCommand}" CommandParameter="{Binding ElementName=SideloadFile}" Title="CHOOSE" Width="180" Height="180" >
                                                <Rectangle Width="120" Height="120" HorizontalAlignment="Center" VerticalAlignment="Top" Fill="White">
                                                    <Rectangle.OpacityMask>
                                                        <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_folder_open}"/>
                                                    </Rectangle.OpacityMask>
                                                </Rectangle>
                                            </metroControls:Tile>
                                            <metroControls:Tile Title="SIDELOAD" Width="180" Height="180" Name="SideloadTile" Command="{Binding SideloadCommand}" VerticalAlignment="Center" HorizontalAlignment="Left">
                                                <Button.CommandParameter>
                                                    <MultiBinding Converter="{StaticResource TwoCommandsParametersConverter}">
                                                        <Binding ElementName="Context"/>
                                                        <Binding ElementName="SideloadFile" Path="Text"/>
                                                        <Binding ElementName="CreateNoWindow" Path="IsChecked"/>
                                                        <Binding ElementName="CreateNoWindow" Path="IsChecked"/>
                                                        <Binding ElementName="Target" Path="Text"/>
                                                    </MultiBinding>
                                                </Button.CommandParameter>
                                                <Rectangle Width="120" Height="120" HorizontalAlignment="Center" VerticalAlignment="Top" Fill="White">
                                                    <Rectangle.OpacityMask>
                                                        <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_sd}"/>
                                                    </Rectangle.OpacityMask>
                                                </Rectangle>
                                            </metroControls:Tile>
                                        </DockPanel>
                                        <TextBox HorizontalAlignment="Center" Style="{StaticResource TextBoxOpenStyle}" TextWrapping="Wrap" x:Name="SideloadFile" Text="{Binding SideloadParameters.Text, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True, ValidatesOnExceptions=True}" metroControls:TextboxHelper.ButtonCommand="{Binding OpenZipCommand}"  metroControls:TextboxHelper.ButtonCommandParameter="{Binding ElementName=SideloadFile}"  metroControls:TextboxHelper.Watermark="ENTER OR CHOOSE SIDELOAD FILE" metroControls:TextboxHelper.FocusBorderBrush="{DynamicResource AccentColorBrush}" Height="40" Margin="160,0" />
                                    </StackPanel>
                                </Grid>
                            </ScrollViewer>
                        </GroupBox>
                    </Grid>
                </TabItem>
                <TabItem Header="Logcat">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="0.35*"/>
                            <ColumnDefinition Width="0.65*"/>
                        </Grid.ColumnDefinitions>
                        <Rectangle Width="200" Height="200" HorizontalAlignment="Center" VerticalAlignment="Top" Fill="DarkGray">
                            <Rectangle.OpacityMask>
                                <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_barcode}"></VisualBrush>
                            </Rectangle.OpacityMask>
                        </Rectangle>
                        <GroupBox Grid.Column="1" Header="logcat">
                            <DockPanel DockPanel.Dock="Left">
                              <StackPanel>
                                    <metroControls:Tile Command="{Binding LogcatCommand}" Title="START LOGCAT" Width="180" Height="180" HorizontalAlignment="Left" VerticalAlignment="Top" >
                                        <Button.CommandParameter>
                                            <MultiBinding Converter="{StaticResource UIParametersConverter}">
                                                <Binding ElementName="Context"/>
                                                <Binding ElementName="LogcatText"/>
                                                <Binding ElementName="Target" Path="Text"></Binding>
                                                <Binding ElementName="CreateNoWindow" Path="IsChecked"/>
                                                <Binding ElementName="ListAppsFlyout"/>
                                            </MultiBinding>
                                        </Button.CommandParameter>
                                        <Rectangle Width="120" Height="120" HorizontalAlignment="Center" VerticalAlignment="Top" Fill="White">
                                            <Rectangle.OpacityMask>
                                                <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_magnify}"/>
                                            </Rectangle.OpacityMask>
                                        </Rectangle>
                                    </metroControls:Tile>
                                    <Button Command="{Binding ClearLogcatCommand}" CommandParameter="{Binding ElementName=LogcatText}" VerticalAlignment="Top" Style="{StaticResource MetroFlatButton}">
                                        <Button.Content>
                                            <DockPanel>
                                                <Rectangle Width="16" Height="16" Fill="{StaticResource WindowBackgroundBrush}">
                                                    <Rectangle.OpacityMask>
                                                        <VisualBrush Visual="{StaticResource appbar_delete}" Stretch="Fill"/>
                                                    </Rectangle.OpacityMask>
                                                </Rectangle>
                                                <TextBlock Margin="5,0,0,0" Text="CLEAR" />
                                            </DockPanel>
                                        </Button.Content>
                                    </Button>
                                </StackPanel>
                                <ScrollViewer>
                                    <TextBox Name="LogcatText" DockPanel.Dock="Right"/>
                                </ScrollViewer>
                            </DockPanel>
                        </GroupBox>
                    </Grid>
                </TabItem>
                <TabItem Header="Execute">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="0.35*"/>
                            <ColumnDefinition Width="0.65*"/>
                        </Grid.ColumnDefinitions>

                        <StackPanel Grid.Column="0">
                            <Rectangle Width="130" Height="150" HorizontalAlignment="Center" VerticalAlignment="Top"  Fill="DarkGray">
                                <Rectangle.OpacityMask>
                                    <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_list}"/>
                                </Rectangle.OpacityMask>
                            </Rectangle>
                        </StackPanel>
                        <GroupBox  VerticalAlignment="Top"  Header="Execute" Grid.Column="1">
                            <ScrollViewer>
                                <StackPanel>
                                    <DockPanel>
                                        <StackPanel Margin="5" >
                                            <TextBox Name="Command1" Margin="5" Text="{Binding Path=ExecuteCommandsParameters.Text, ValidatesOnDataErrors=True, ValidatesOnExceptions=True, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged}" metroControls:TextboxHelper.Watermark="ENTER THE COMMAND TEXT" metroControls:TextboxHelper.ClearTextButton="True" metroControls:TextboxHelper.FocusBorderBrush="{DynamicResource AccentColorBrush}"/>
                                            <TextBox Name="Command2" Margin="5" Text="{Binding Path=ExecuteCommandsParameters.Text2, ValidatesOnDataErrors=True, ValidatesOnExceptions=True, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged}" metroControls:TextboxHelper.Watermark="ENTER THE COMMAND TEXT" metroControls:TextboxHelper.ClearTextButton="True" metroControls:TextboxHelper.FocusBorderBrush="{DynamicResource AccentColorBrush}"/>
                                            <TextBox Name="Command3" Margin="5" Text="{Binding Path=ExecuteCommandsParameters.Text3, ValidatesOnDataErrors=True, ValidatesOnExceptions=True, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged}" metroControls:TextboxHelper.Watermark="ENTER THE COMMAND TEXT" metroControls:TextboxHelper.ClearTextButton="True" metroControls:TextboxHelper.FocusBorderBrush="{DynamicResource AccentColorBrush}"/>
                                            <TextBox Name="Command4" Margin="5" Text="{Binding Path=ExecuteCommandsParameters.Text4, ValidatesOnDataErrors=True, ValidatesOnExceptions=True, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged}" metroControls:TextboxHelper.Watermark="ENTER THE COMMAND TEXT" metroControls:TextboxHelper.ClearTextButton="True" metroControls:TextboxHelper.FocusBorderBrush="{DynamicResource AccentColorBrush}"/>
                                            <TextBox Name="Command5" Margin="5" Text="{Binding Path=ExecuteCommandsParameters.Text5, ValidatesOnDataErrors=True, ValidatesOnExceptions=True, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged}" metroControls:TextboxHelper.Watermark="ENTER THE COMMAND TEXT" metroControls:TextboxHelper.ClearTextButton="True" metroControls:TextboxHelper.FocusBorderBrush="{DynamicResource AccentColorBrush}"/>
                                        </StackPanel>
                                        <StackPanel Margin="5">
                                            <TextBox Name="Command6" Margin="5" Text="{Binding Path=ExecuteCommandsParameters.Text6, ValidatesOnDataErrors=True, ValidatesOnExceptions=True, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged}" metroControls:TextboxHelper.Watermark="ENTER THE COMMAND TEXT" metroControls:TextboxHelper.ClearTextButton="True" metroControls:TextboxHelper.FocusBorderBrush="{DynamicResource AccentColorBrush}"/>
                                            <TextBox Name="Command7" Margin="5" Text="{Binding Path=ExecuteCommandsParameters.Text7, ValidatesOnDataErrors=True, ValidatesOnExceptions=True, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged}" metroControls:TextboxHelper.Watermark="ENTER THE COMMAND TEXT" metroControls:TextboxHelper.ClearTextButton="True" metroControls:TextboxHelper.FocusBorderBrush="{DynamicResource AccentColorBrush}"/>
                                            <TextBox Name="Command8" Margin="5" Text="{Binding Path=ExecuteCommandsParameters.Text8, ValidatesOnDataErrors=True, ValidatesOnExceptions=True, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged}" metroControls:TextboxHelper.Watermark="ENTER THE COMMAND TEXT" metroControls:TextboxHelper.ClearTextButton="True" metroControls:TextboxHelper.FocusBorderBrush="{DynamicResource AccentColorBrush}"/>
                                            <TextBox Name="Command9" Margin="5" Text="{Binding Path=ExecuteCommandsParameters.Text9, ValidatesOnDataErrors=True, ValidatesOnExceptions=True, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged}" metroControls:TextboxHelper.Watermark="ENTER THE COMMAND TEXT" metroControls:TextboxHelper.ClearTextButton="True" metroControls:TextboxHelper.FocusBorderBrush="{DynamicResource AccentColorBrush}"/>
                                            <TextBox Name="Command10" Margin="5" Text="{Binding Path=ExecuteCommandsParameters.Text10, ValidatesOnDataErrors=True, ValidatesOnExceptions=True, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged}" metroControls:TextboxHelper.Watermark="ENTER THE COMMAND TEXT" metroControls:TextboxHelper.ClearTextButton="True" metroControls:TextboxHelper.FocusBorderBrush="{DynamicResource AccentColorBrush}"/>
                                        </StackPanel>
                                    </DockPanel>
                                    <metroControls:Tile Command="{Binding ExecuteCommands}" Style="{StaticResource ExecuteButtonStyle}">
                                        <metroControls:Tile.CommandParameter>
                                            <MultiBinding Converter="{StaticResource ExecuteCommandParametersConverter}">
                                                <Binding ElementName="Context"/>
                                                <Binding ElementName="Command1" Path="Text"/>
                                                <Binding ElementName="Command2" Path="Text"/>
                                                <Binding ElementName="Command3" Path="Text"/>
                                                <Binding ElementName="Command4" Path="Text"/>
                                                <Binding ElementName="Command5" Path="Text"/>
                                                <Binding ElementName="Command6" Path="Text"/>
                                                <Binding ElementName="Command7" Path="Text"/>
                                                <Binding ElementName="Command8" Path="Text"/>
                                                <Binding ElementName="Command9" Path="Text"/>
                                                <Binding ElementName="Command10" Path="Text"/>
                                                <Binding ElementName="CreateNoWindow" Path="IsChecked"/>
                                                <Binding ElementName="Target" Path="Text"/>
                                            </MultiBinding>
                                        </metroControls:Tile.CommandParameter>
                                        <Rectangle Width="80" Height="80" HorizontalAlignment="Center" VerticalAlignment="Top"  Fill="White">
                                            <Rectangle.OpacityMask>
                                                <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_check}"/>
                                            </Rectangle.OpacityMask>
                                        </Rectangle>
                                    </metroControls:Tile>
                                </StackPanel>
                            </ScrollViewer>
                        </GroupBox>


                    </Grid>
                </TabItem>
            </TabControl>
            <ScrollViewer Name="RightTop" Background="{StaticResource FlyoutBackgroundBrush}" Grid.Column="1" Grid.Row="0" CanContentScroll="True" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
                <TabControl>
                    <TabItem Header="device">
                        <DockPanel>
                            <Rectangle Width="32" Height="40" Fill="{StaticResource FlatButtonBackgroundBrush}">
                                <Rectangle.OpacityMask>
                                    <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_iphone}"></VisualBrush>
                                </Rectangle.OpacityMask>
                            </Rectangle>
                            <Button Name="ShowDevices" Command="{Binding ListDevicesCommand}" Width="{Binding}" Height="40" Margin="5,10,7,10" Style="{StaticResource FlatMetroAccentButton}">
                                <Button.CommandParameter>
                                    <MultiBinding Converter="{StaticResource UIParametersConverter}">
                                        <Binding ElementName="Context"/>
                                        <Binding ElementName="ADBDevices"/>
                                        <Binding ElementName="Target" Path="Text"/>
                                        <Binding ElementName="CreateNoWindow" Path="IsChecked"/>
                                        <Binding ElementName="ListAppsFlyout"/>
                                    </MultiBinding>
                                </Button.CommandParameter>
                                <Button.Content>
                                    <DockPanel>
                                        <Rectangle Width="16" Height="16" Fill="White">
                                            <Rectangle.OpacityMask>
                                                <VisualBrush Visual="{StaticResource appbar_list}" Stretch="Fill"/>
                                            </Rectangle.OpacityMask>
                                        </Rectangle>
                                    </DockPanel>
                                </Button.Content>
                            </Button>
                        </DockPanel>
                    </TabItem>
                    <TabItem Header="tools">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="0.25*"/>
                                <ColumnDefinition Width="0.25*"/>
                                <ColumnDefinition Width="0.25*"/>
                                <ColumnDefinition Width="0.25*"/>
                            </Grid.ColumnDefinitions>
                            <Button Name="ShowReboot" Width="64" Height="64" Grid.Column="0" Style="{StaticResource MetroCircleButtonStyle}">
                                <Rectangle Width="32" Height="32" Fill="{StaticResource FlatButtonBackgroundBrush}">
                                    <Rectangle.OpacityMask>
                                        <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_reset}"></VisualBrush>
                                    </Rectangle.OpacityMask>
                                </Rectangle>
                            </Button>
                            <Button Name="ShowBackup" Width="64" Height="64" Grid.Column="1" Style="{StaticResource MetroCircleButtonStyle}">
                                <Rectangle Width="32" Height="32" Fill="{StaticResource FlatButtonBackgroundBrush}">
                                    <Rectangle.OpacityMask>
                                        <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_database}"></VisualBrush>
                                    </Rectangle.OpacityMask>
                                </Rectangle>
                            </Button>
                            <Button Name="ShowSettings" Width="64" Height="64" Grid.Column="3" Style="{StaticResource MetroCircleButtonStyle}">
                                <Rectangle Width="32" Height="32" Fill="{StaticResource FlatButtonBackgroundBrush}">
                                    <Rectangle.OpacityMask>
                                        <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_settings}"></VisualBrush>
                                    </Rectangle.OpacityMask>
                                </Rectangle>
                            </Button>
                            <Button Name="ShowRemoteAdb" Width="64" Height="64" Grid.Column="2" Style="{StaticResource MetroCircleButtonStyle}">
                                <Rectangle Width="32" Height="32" Fill="{StaticResource FlatButtonBackgroundBrush}">
                                    <Rectangle.OpacityMask>
                                        <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_radar}"></VisualBrush>
                                    </Rectangle.OpacityMask>
                                </Rectangle>
                            </Button>
                        </Grid>
                    </TabItem>
                </TabControl>
            </ScrollViewer>

            <Grid Name="Right" Background="{StaticResource FlyoutBackgroundBrush}"  Grid.Column="1" Grid.Row="1" Grid.RowSpan="2" >
                <Expander Header="Immediate" Margin="10,0,10,30" >
                    <Grid>
                        <Grid Margin="20">
                            <DockPanel VerticalAlignment="Top">
                                <metroControls:ProgressRing Width="40" Height="40" IsEnabled="True" Foreground="{DynamicResource AccentColorBrush}" IsActive="True"/>
                                <TextBlock Style="{StaticResource HeaderTextBlockStyle}" Text="IMMEDIATE" HorizontalAlignment="Center" VerticalAlignment="Center"></TextBlock>
                            </DockPanel>
                            <TextBox Margin="0,50,0,0" VerticalAlignment="Top" x:Name="ExecuteCmd" Height="20" Text="{Binding Path=ExecuteSingleCommandParameters.Text, ValidatesOnDataErrors=True, NotifyOnValidationError=True, ValidatesOnExceptions=True, UpdateSourceTrigger=PropertyChanged}" metroControls:TextboxHelper.Watermark="ENTER COMMAND" Style="{DynamicResource ExecuteCommandTextBox}" metroControls:TextboxHelper.ButtonCommand="{Binding ExecuteSingleCommand}">
                                <metroControls:TextboxHelper.ButtonCommandParameter>
                                    <MultiBinding Converter="{StaticResource TwoCommandsParametersConverter}">
                                        <Binding ElementName="Context"/>
                                        <Binding ElementName="ExecuteCmd" Path="Text"/>
                                        <Binding ElementName="CreateNoWindow" Path="IsChecked"/>
                                        <Binding ElementName="CreateNoWindow" Path="IsChecked"/>
                                        <Binding ElementName="Target" Path="Text"/>
                                    </MultiBinding>
                                </metroControls:TextboxHelper.ButtonCommandParameter>
                            </TextBox>
                            <Button Margin="0,80,0,0" Command="{Binding ClearImmediateCommand}" CommandParameter="{Binding ElementName=Context}" VerticalAlignment="Top"   Style="{StaticResource MetroFlatButton}">
                                <Button.Content>
                                    <DockPanel>
                                        <Rectangle Width="16" Height="16" Fill="{StaticResource WindowBackgroundBrush}">
                                            <Rectangle.OpacityMask>
                                                <VisualBrush Visual="{StaticResource appbar_delete}" Stretch="Fill"/>
                                            </Rectangle.OpacityMask>
                                        </Rectangle>
                                        <TextBlock Margin="5,0,0,0" Text="CLEAR" />
                                    </DockPanel>
                                </Button.Content>
                            </Button>
                            <ScrollViewer Margin="0,115,0,0" CanContentScroll="True">
                                <TextBlock Style="{StaticResource ImmediateTextBlockStyle}" TextAlignment="Left" TextWrapping="Wrap" Foreground="White" x:Name="Context"/>
                            </ScrollViewer>
                        </Grid>
                    </Grid>
                </Expander>
            </Grid>
            <DockPanel Name="Footer1" Grid.Column="0" Grid.Row="2">
                <Rectangle Fill="{DynamicResource AccentColorBrush}" Width="20" Height="20" Margin="5,0,0,0">
                    <Rectangle.OpacityMask>
                        <VisualBrush Visual="{StaticResource appbar_box}"></VisualBrush>
                    </Rectangle.OpacityMask>
                </Rectangle>
                <TextBlock Margin="10,0,0,0" Style="{StaticResource FooterTextStyle}" HorizontalAlignment="Left" VerticalAlignment="Center" Text="Gabrijel Boduljak"/>

            </DockPanel>
            <DockPanel Name="Footer2" Grid.Column="1" Grid.Row="2">
                <Button Height="22" Width="100" HorizontalAlignment="Left" VerticalAlignment="Bottom">
                    <Button.Content>
                        <Rectangle Fill="Gray" Width="12" Height="12" Margin="5,0,0,0">
                            <Rectangle.OpacityMask>
                                <VisualBrush Visual="{StaticResource appbar_question}"></VisualBrush>
                            </Rectangle.OpacityMask>
                        </Rectangle>
                    </Button.Content>
                </Button>
                <Label Name="StatusLabel" HorizontalAlignment="Left" VerticalAlignment="Center" Style="{StaticResource StatusLabel}" Width="150" MinHeight="22"/>
            </DockPanel>
        </Grid>
    </metroControls:MetroContentControl>

</metroControls:MetroWindow>
